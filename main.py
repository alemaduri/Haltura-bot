# -*- coding: utf-8 -*-
import json
import telebot
from telebot import types
import custom
import setup
import keyboards

bot = telebot.TeleBot(setup.bot1)
admin = telebot.TeleBot(setup.admin_bot)
me = telebot.TeleBot(setup.me)
db = json.load(open('db.json', 'r'))

def save_db(db, file_name = 'db.json'):
    dbjob = open(file_name, 'w')
    dbjob.write(json.dumps(db, ensure_ascii = False, indent = 4))
    dbjob.close()

menu = '–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â—É—é –≤–∞—Å —Å—Ö–µ–º—É \n1. –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –Ω–∞ –ø—Ä–æ–¥–∞–∂–µ –ø–ª—é—à–µ–≤—ã—Ö –º–µ–¥–≤–µ–¥–µ–π\n2. –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –Ω–∞ –ø—Ä–æ–¥–∞–∂–µ –∫–∞—Ä—Ç–∏–Ω–æ–∫\n3. –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –Ω–∞ –∫–æ—à–µ–ª—å–∫–µ Payeer\n4. –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –Ω–∞ —Å–º—Å\n5. –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö –≤ –í–ö\n6. –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –Ω–∞ —Ö–∞–ª—è–≤–µ —Å–æ –≤—Å–µ–≥–æ Telegram\n7. –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –Ω–∞ –ø—Ä–æ–¥–∞–∂–µ –≥–æ—Ç–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ ()\n8. –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π\n9. –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –Ω–∞ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π –Ω–∞ –Ø–Ω–¥–µ–∫—Å –î–∑–µ–Ω\n10. –ü–æ–ª—É—á–∞–µ–º —Ö–∞–ª—è–≤–Ω—ã–µ 3500—Ä –∏ —Ä—É–±–∏–º –¥–µ–Ω—å–≥–∏ –Ω–∞ –ø–∞—Å—Å–∏–≤–µ!\n11. –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞–Ω–∏–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏\n12. –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –Ω–∞ –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ —Ç—Ä–∞—Ñ–∏–∫–µ –∑–∞ —Å—á–µ—Ç –∏–Ω—Å—Ç–∞–≥—Ä–∞–º–∞\n13. –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –Ω–∞ —á–∞—Ç–∞—Ö –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–µ\n14. –ü–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥ –Ω–∞ –∏–≥—Ä–∞—Ö —Å –ø–æ–º–æ—â—å—é YouTube –∏ Twitch\n15. –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è –Ω–∞ —è–Ω–¥–µ–∫—Å —ç—Ñ–∏—Ä–µ\n16. –ü–∞—Å—Å–∏–≤–Ω—ã–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö\n17. –§–∞—Ä–º –ë–∏–≥ –ú–∞–∫–æ–≤ \n18. –°—Ç–∞—Ç—å —á–∞—Å—Ç—å—é –∫–æ–º–∞–Ω–¥—ã(t.me/Haltura_Join_Team_Bot) \n 19. –ê–ª—å—Ñ–∞–ë–∞–Ω–∫ 1.0 \n 20. –ê–ª—å—Ñ–∞–ë–∞–Ω–∫ 2.0 \n21. –°—Ö–µ–º–∞ —Å –∫—Ä–æ–≤—å—é\n22.–ü—Ä–æ–¥–∞–∂–∞ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–∏–≤–∏ –∞–∫–∫–∞—É–Ω—Ç–æ–≤'
welcome_msg = 'üí∞–•–∞–ª—Ç—É—Ä–∞- –ü–æ–¥—Ä–∞–±–æ—Ç–∫–∞; –ø–æ–±–æ—á–Ω—ã–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫; —Ä–∞–±–æ—Ç–∞, –≤—ã–ø–æ–ª–Ω—è–µ–º–∞—è –ø–æ–º–∏–º–æ –∏–ª–∏ –∑–∞ —Å—á—ë—Ç –æ—Å–Ω–æ–≤–Ω–æ–π.üí∞\n\nüí∏–í –¥–µ—Ç—Å—Ç–≤–µ –º–Ω–µ –∫–∞–∑–∞–ª–æ—Å—å, —á—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –¥–µ–Ω—å–≥–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ —Ç–µ–±–µ –Ω–µ—Ç 18. –ö–∞–∑–∏–Ω–æ, —Å—Ç–∞–≤–∫–∏, –ø–∏—Ä–∞–º–∏–¥—ã, —Ä–∞–±–æ—Ç–∞ –∫–ª–∞–¥–º–µ–Ω–æ–º, –∏–Ω—Ñ–æ—Ü—ã–≥–∞–Ω—Å—Ç–≤–æ, –±–∏–Ω–∞—Ä–Ω—ã–µ –æ–ø—Ü–∏–æ–Ω—ã( –Ω–µ –ø—É—Ç–∞—Ç—å —Å –∞–∫—Ü–∏—è–º–∏ –∏ –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º, —ç—Ç–æ —Ç–µ–º–∞ –∑–¥—Ä–∞–≤–∞—è) –∏ –ø—Ä–æ—á–µ–µ –≥–æ–≤–Ω–æ —É–±–µ–∂–¥–∞–ª–∏ –º–µ–Ω—è –≤ —ç—Ç–æ–º. –ù–æ —è –Ω–µ —Å–¥–∞–≤–∞–ª—Å—è –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–ª –∏—Å–∫–∞—Ç—å. –¢–∞–∫ –≤–æ—Ç, —è –Ω–∞—à—ë–ª. –°–ø—É—Å—Ç—è –≥–æ–¥—ã, —è —Ä–æ—Å –∏ –ø—Ä–æ–±–æ–≤–∞–ª —Ä–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª–∏ –æ—Ç –º–µ–Ω—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –≤—ã—Ö–æ–¥–æ–≤ –Ω–∞ —É–ª–∏—Ü—É. –Ø —Ä–∞–±–æ—Ç–∞–ª —Ñ—Ä–∏–ª–∞–Ω—Å–µ—Ä–æ–º –∫—É—Ä—å–µ—Ä–æ–º, –æ—Ç–∫—Ä—ã–ª —Å –Ω–∞–ø–∞—Ä–Ω–∏–∫–∞–º–∏ –¥—Ä–æ–ø—à–∏–ø–ø–∏–Ω–≥ –±–∏–∑–Ω–µ—Å, –∏—Å–∫–∞–ª, –∏—Å–∫–∞–ª –∏ –∏—Å–∫–∞–ª. –ò –≤–æ—Ç, –ø–µ—Ä–µ–¥ –≤–∞–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–Ω–æ–≥–æ–ª–µ—Ç–Ω–µ–≥–æ –º–æ–∑–≥–æ–≤–æ–≥–æ —à—Ç—É—Ä–º–∞, –ø—Ä–æ–µ–∫—Ç –≤—Å–µ–π –º–æ–µ–π –∂–∏–∑–Ω–∏- —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ ¬´–•–∞–ª—Ç—É—Ä–∞¬ª. –≤ —ç—Ç–æ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ —Ç—ã –Ω–∞–π–¥—ë—à—å –∞–±—Å–æ–ª—é—Ç–Ω–æ –≤—Å—ë, —á—Ç–æ –º–æ–∂–Ω–æ, –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –¥–µ–Ω—å–≥–∏. –ö–∞–Ω–∞–ª —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ —Ä–µ–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–∞ —Ñ—Ä–∏–ª–∞–Ω—Å–µ –∏ –±–µ–∑ –ù–∞–π–º–∞, –±–æ—Ç —Å–æ —Å—Ö–µ–º–∞–º–∏ –¥–ª—è –∑–∞—Ä–∞–±–æ—Ç–∫–∞, –ø—Ä–∏—ë–º –≤ –º–æ—é –∫–æ–º–∞–Ω–¥—É –∏ —Ä–∞–±–æ—Ç–∞ –ø–æ –º–æ–∏–º –∞–≤—Ç–æ—Ä—Å–∫–∏–º —Å—Ö–µ–º–∞–º. –¢–∞–∫–æ–≥–æ —Ç—ã –Ω–µ –Ω–∞–π–¥—ë—à—å –Ω–∏–≥–¥–µ, –≤–µ–¥—å –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∞ –∫–æ–º–∞–Ω–¥–∞ —ç–Ω—Ç—É–∑–∏–∞—Å—Ç–æ–≤( —à–∞—Ç –∞—É—Ç —Å–≤–æ–∏–º, –≤—ã —Å–∞–º—ã–µ –ª—É—á—à–∏–µ), –∫–æ—Ç–æ—Ä—ã–µ —Ç–∞–∫–∂–µ –∫–∞–∫ –∏ –∞–≤—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞ –∏—Å–∫–∞–ª–∏ —Å–ø–æ—Å–æ–±—ã –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ. –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –•–∞–ª—Ç—É—Ä—É, —á—É–≤—Å—Ç–≤—É–π —Å–µ–±—è –∫–∞–∫ –¥–æ–º–∞. –¢–µ–±–µ —Ç—É—Ç —Ç–æ—á–Ω–æ –ø–æ–Ω—Ä–∞–≤–∏—Ç—Å—è. üí∏'
welcome_msg_2 = 'üòè–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é —Ç–µ–±—è, —Å—Ö–µ–º—â–∏–∫. –í —ç—Ç–æ–º –±–æ—Ç–µ —Ç–µ–±—è –∂–¥—ë—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∫–∞—Å–∞—Ç–µ–ª—å–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –∏ –Ω–µ —Ç–æ–ª—å–∫–æ. –ó–¥–µ—Å—å –Ω–µ –±—É–¥–µ—Ç –∫–∞–∑–∏–Ω–æ, –ø–∏—Ä–∞–º–∏–¥, —Å—Ç–∞–≤–æ–∫, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –æ —Ä–∞–±–æ—Ç–µ –∫–ª–∞–¥–º–µ–Ω–æ–º –∏ –ø—Ä–æ—á–µ–π –¥—Ä—è–Ω–∏. –¢—É—Ç —Ç–µ–±—è –Ω–∞—É—á–∞—Ç –≥—Ä–∞–º–æ—Ç–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç—å –∫ –ø—Ä–æ—Ü–µ—Å—Å—É –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –∏ –∫–∞–∫ –∏ –≤ –ª—é–±–æ–º –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è —Ç—Ä—É–¥ –∏ –∂–µ–ª–∞–Ω–∏–µ. –ë–µ–∑ —ç—Ç–æ–≥–æ –Ω–∏–∫—É–¥–∞, —Ç—ã —Å–∞–º —ç—Ç–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ –ø–æ–Ω–∏–º–∞–µ—à—å. üòè\n\n‚ùó–°–º–æ—Ç—Ä–∏, –∑–¥–µ—Å—å –±—É–¥—É—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –±–µ–ª—ã–µ –∏ —Å–µ—Ä—ã–µ —Å—Ö–µ–º—ã –∑–∞—Ä–∞–±–æ—Ç–∫–∞, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –¥—Ä–æ–ø—à–∏–ø–ø–∏–Ω–≥–µ, –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Å—Å–∏–≤–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞ –æ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤( —Ä—É–∫–∞–ø—á–∞, everve), –±–ª–∞–≥–æ–¥–∞—Ä—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞, –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ —Ñ—Ä–∏–ª–∞–Ω—Å —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è–º–∏ –∏ —Ç.–¥. ‚ùó\n\nü§ì–ü—Ä–æ–µ–∫—Ç –±—ã–ª —Å–æ–∑–¥–∞–Ω –∫–æ–º–ø–∞–Ω–∏–µ–π —ç–Ω—Ç—É–∑–∏–∞—Å—Ç–æ–≤, –∂–µ–ª–∞—é—â–∏—Ö –æ–±–ª–µ–≥—á–∏—Ç—å –∂–∏–∑–Ω—å —Ç–∞–∫–∏–º –∂–µ –∫–∞–∫ –∏ –æ–Ω–∏. –ù–∞–≤–µ—Ä–Ω–æ–µ, —ç—Ç–æ –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å —Å—Ç–∞—Ä—Ç-–∞–ø–æ–º. –ü–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ —Å—Ç–∞—Ä—Ç-–∞–ø, –º—ã —Ä–µ—à–∏–ª–∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—Ö–µ–º—ã –¥–æ–≤–æ–ª—å–Ω–æ —É—Å–ª–æ–≤–Ω—ã–π —Ü–µ–Ω–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –æ–∫—É–ø–∏—Ç—å —Å—Ä–∞–∑—É –∂–µ –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –ø–æ —Å—Ö–µ–º–µ, –∞ –º–Ω–æ–≥–∏–µ —Å—Ö–µ–º—ã –∏ –≤–æ–≤—Å–µ —Å–¥–µ–ª–∞–ª–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º–∏, –¥–∞–±—ã –ø—Ä–∏–≤–ª–µ—á—å –¥–æ–ª–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç. ü§ì\n\nüßê–í —ç—Ç–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –Ω–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –±—ã–ª–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —á–µ—Å—Ç–Ω–æ–π —Å —Ç–æ–±–æ–π. –ö–∞–∂–¥—ã–π –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞—Ç–µ–ª—å –∫—É—Ä–∏—Ä—É–µ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –≤ —Ü–µ–Ω—É –ø–æ–∫—É–ø–∫–∏ –≤—Ö–æ–¥–∏—Ç —á–µ—Ç–∫–æ–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –æ—Ç –Ω–∞—á–∞–ª–∞ –∏ –¥–æ –∫–æ–Ω—Ü–∞ –ø—É—Ç–∏. –ü–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º —Å—Ö–µ–º–∞–º —Ç–∞–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–µ –±—É–¥–µ—Ç. –¢–∞–∫–∂–µ –≤ –ø–ª–∞—Ç–Ω—ã–µ —Å—Ö–µ–º—ã –º—ã –≤–ø–∏—Ö–Ω—É–ª–∏ —Å–∫—Ä–∏–ø—Ç—ã –∏ –ø–æ–¥—Ä–æ–±–Ω–µ–π—à–∏–µ –≥–∞–π–¥—ã –ø–æ —Ä–∞–±–æ—Ç–µ. –¢–∞–∫ —á—Ç–æ, –ø–æ –±–æ–ª—å—à–æ–º—É —Å—á—ë—Ç—É –Ω–∏—á–µ–≥–æ –∫—Ä–æ–º–µ c\n\nctrl-c ctrl-v –¥–µ–ª–∞—Ç—å –Ω–µ –ø—Ä–∏–π–¥–µ—Ç—Å—è. üßê\n\n‚Äº–í —Å–ª—É—á–∞–µ –Ω–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏ –∏ –Ω–µ —Ä–∞–±–æ—Ç–µ –≤—Å–µ –¥–µ–Ω—å–≥–∏ –±—É–¥—É—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã –∏–ª–∏ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ–¥–µ–Ω–∞ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞. ‚Äº\n\n‚ùï‚ùó‚ùï‚ùó–¢–∞–∫–∂–µ —É –Ω–∞—Å –µ—Å—Ç—å –∫–∞–Ω–∞–ª, –≥–¥–µ –≤ –æ–Ω–ª–∞–π–Ω —Ñ–æ—Ä–º–∞—Ç–µ –≤—ã–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ –±–æ—Ç—É –∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –Ω–æ–≤—ã–µ —Å—Ö–µ–º—ã- https://t.me/joinchat/VFFvmdWjvTmryfWq ‚ùó‚ùï‚ùó‚ùï\n\nüî•üî•üî•–ï—â–µ –µ—Å—Ç—å —á–∞—Ç –æ—Ñ—Ñ–µ—Ä–æ–≤ —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞ –≤ –æ—Ñ–ª–∞–π–Ω —Ñ–æ—Ä–º–∞—Ç–µ( –¥–æ—Å—Ç–∞–≤–∏—Ç—å –î–æ–∫—É–º–µ–Ω—Ç—ã, –ø—Ä–∏–≤–ª–µ—á—å –ª—é–¥–µ–π –≤ –∑–∞–≤–µ–¥–µ–Ω–∏–µ, –ø—Ä–æ–¥–∞—Ç—å –∫—Ä–æ—Å—Å–æ–≤–∫–∏ –∏ –ø—Ä–æ—á–∏–µ —Ç–æ–≤–∞—Ä—ã –∑–∞ –ø—Ä–æ—Ü–µ–Ω—Ç)- –¥–ª—è –≤—Ö–æ–¥–∞ —Ç—É–¥–∞ –≤—ã–±–µ—Ä–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–Ω–æ–ø–∫—É –≤ –±–æ—Ç–µ –∏–ª–∏ –Ω–∞–ø–∏—à–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É. üî•üî•üî•\n\nüîû–ê –µ—â–µ, —Ç—ã –º–æ–∂–µ—à—å —Å—Ç–∞—Ç—å —á–∞—Å—Ç—å—é –Ω–∞—à–µ–π –∫–æ–º–∞–Ω–¥—ã, –ø—Ä–æ–¥–∞–≤–∞—è —Å—Ö–µ–º—ã –≤–º–µ—Å—Ç–µ —Å –Ω–∞–º–∏ –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—è –Ω–µ–ø–ª–æ—Ö–∏–µ –¥–µ–Ω—å–≥–∏, –∑–∞–ø–æ–ª–Ω–∏–≤ —Ñ–æ—Ä–º—É –≤ —ç—Ç–æ–º –±–æ—Ç–µ- üîû\n\nüòè–î–ª—è –≤—ã–±–æ—Ä–∞ —Å—Ö–µ–º—ã –≤—ã–±–µ—Ä—É –∫–∞—Ç–µ–≥–æ—Ä–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Ç–µ–±—è –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –∏ –Ω–∞–∂–º–∏ –Ω–∞ —Ü–∏—Ñ—Ä—É —Å—Ö–µ–º—ã. –¢—ã –ø–æ–ª—É—á–∏—à—å —Ñ–∞–π–ª —Å –æ–ø–∏—Å–∞–Ω–∏–µ–ºüòè'
tegs = ['18+ –ó–∞—Ä–∞–±–æ—Ç–æ–∫', '18- –ó–∞—Ä–∞–±–æ—Ç–æ–∫', '–ê–∫—Ç–∏–≤–Ω—ã–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫', '–ü–∞—Å—Å–∏–≤–Ω—ã–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫', '–û–Ω–ª–∞–π–Ω –∑–∞—Ä–∞–±–æ—Ç–æ–∫', '–û—Ñ—Ñ–ª–∞–π–Ω –∑–∞—Ä–∞–±–æ—Ç–æ–∫', '–ë–µ–ª—ã–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫', '–°–µ—Ä—ã–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫']


@bot.message_handler(commands = ['start'])
def welcome_message(message):
    if message.chat.id in db['id_list']:
        bot.send_message(message.chat.id, '–í—ã —É–∂–µ –Ω–∞—á–∞–ª–∏ –æ–±—â–µ–Ω–∏–µ —Å –±–æ—Ç–æ–º', reply_markup = keyboards.main)
        custom.position_set(message.chat.id, db, 'sub_main')
        custom.looking_set(message.chat.id, db, 0)
    else:
        bot.send_message(message.chat.id, welcome_msg)
        bot.send_message(message.chat.id, welcome_msg_2, reply_markup = keyboards.main)
        db['users'].append({'id': message.chat.id, 'position': 'sub_main', 'looking': 0})
        db['id_list'].append(message.chat.id)
        save_db(db)

@bot.message_handler(func = lambda message: custom.position(message.chat.id, db) == 'sub_main')
def sub_main(message):
    if message.text in tegs:
        text_send = custom.generate_text(message.text)
        bot.send_message(message.chat.id, text_send, reply_markup = keyboards.go_back)
        custom.position_set(message.chat.id, db, 'main')
        save_db(db)
    elif message.text == '–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤':
        bot.send_message(message.chat.id, '–ü–æ–∫—É–ø–∫–∞ Qiwi –∫–æ—à–µ–ª—å–∫–æ–≤, —Ñ–µ–π–∫–æ–≤ –í–ö, —Å–∏–º-–∫–∞—Ä—Ç\nQiwi: 500, VK: 90, SIM: 110\n–î–ª—è –ø–æ–∫—É–ø–∫–∏ –Ω–∞–ø–∏—Å–∞—Ç—å: @dasolnce', reply_markup = keyboards.main)
    elif message.text == '–°–≤—è–∑—å —Å –∞–¥–º–∏–Ω–æ–º':
        bot.send_message(message.chat.id, '@dasolnce', reply_markup = keyboards.main)
    else:
        bot.send_message(message.chat.id, '–ë–æ—Ç –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–ª –≤–∞—à—É –∫–æ–º–∞–Ω–¥—É', reply_markup = keyboards.main)
    

@bot.message_handler(func = lambda message: custom.position(message.chat.id, db) == 'main')
def main(message):
    try:
        num = int(message.text)
        if num == 18:
            bot.send_message(message.chat.id, '@haltura_reg_team_bot')
            bot.send_message(message.chat.id, '–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –í–∞—Å —Ä–∞–∑–¥–µ–ª', reply_markup = keyboards.main)
            custom.position_set(message.chat.id, db, 'sub_main')
        elif num == 23:
            bot.send_message(message.chat.id, '–ù–∞–ø–∏—à–∏—Ç–µ –∞–¥–º–∏–Ω—É: @dasolnce')
            bot.send_message(message.chat.id, '–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –í–∞—Å —Ä–∞–∑–¥–µ–ª', reply_markup = keyboards.main)
            custom.position_set(message.chat.id, db, 'sub_main')
        elif num in [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,19,20,21,22,24,25,26,27]:
            custom.looking_set(message.chat.id, db, num)
            file_name = 'sxem' + str(num) + '.docx'
            file_ = open(file_name, 'rb')
            bot.send_document(message.chat.id, file_, reply_markup = keyboards.buying)
            custom.position_set(message.chat.id, db, 'looking')
            save_db(db)
        else:
            bot.send_message(message.chat.id, '–°—Ö–µ–º—ã —Å —Ç–∞–∫–∏–º –Ω–æ–º–µ—Ä–æ–º –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–ø—ã—Ç–∫—É')
    except ValueError:
        if message.text == '–ù–∞–∑–∞–¥':
            bot.send_message(message.chat.id, '–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –í–∞—Å —Ä–∞–∑–¥–µ–ª', reply_markup = keyboards.main)
            custom.position_set(message.chat.id, db, 'sub_main')
            custom.looking_set(message.chat.id, db, 0)
        else:
            bot.send_message(message.chat.id, '–ù–∞–ø–∏—à–∏—Ç–µ —á–∏—Å–ª–æ')

@bot.message_handler(func = lambda message: custom.position(message.chat.id, db) == 'looking')
def buying(message):
    if message.text == '–ö—É–ø–∏—Ç—å':
        bot.send_message(message.chat.id, '–°–±–µ—Ä–±–∞–Ω–∫-–æ–Ω–ª–∞–π–Ω(–°–ß–ï–¢): 40817810740018011026', reply_markup = keyboards.paying)
        custom.position_set(message.chat.id, db, 'buying')
        save_db(db)
    elif message.text == '–ù–∞–∑–∞–¥':
        bot.send_message(message.chat.id, '–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –í–∞—Å —Ä–∞–∑–¥–µ–ª', reply_markup = keyboards.main)
        custom.position_set(message.chat.id, db, 'sub_main')
        custom.looking_set(message.chat.id, db, 0)
        save_db(db)
    else:
        bot.send_message(message.chat.id, '–ë–æ—Ç –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–ª –≤–∞—à—É –∫–æ–º–∞–Ω–¥—É', reply_markup = keyboards.buying)


@bot.message_handler(func = lambda message: custom.position(message.chat.id, db) == 'buying')
def paying(message):
    if message.text == '–Ø –æ–ø–ª–∞—Ç–∏–ª':
        bot.send_message(message.chat.id, '–û—Ç–ª–∏—á–Ω–æ, –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞, –≤–∞–º –±—É–¥–µ—Ç –≤—ã—Å–ª–∞–Ω–∞ —Å—Ö–µ–º–∞')
        try:
            admin.send_message(setup.admin, '–í–æ–∑–º–æ–∂–Ω–æ –ø–æ—Å—Ç—É–ø–∏–ª –ø–ª–∞—Ç–µ–∂\n' + str(message.chat.id) + '\n–°—Ö–µ–º–∞ –Ω–æ–º–µ—Ä: ' + str(custom.looking(message.chat.id, db)) + '\n' + '–°—Ç–æ–∏–º–æ—Å—Ç—å: ' + setup.sxem[custom.looking(message.chat.id, db)]['price'])
        except Exception:
            admin.send_message(setup.admin2, '–í–æ–∑–º–æ–∂–Ω–æ –ø–æ—Å—Ç—É–ø–∏–ª –ø–ª–∞—Ç–µ–∂\n' + str(message.chat.id) + '\n–°—Ö–µ–º–∞ –Ω–æ–º–µ—Ä: ' + str(custom.looking(message.chat.id, db)) + '\n' + '–°—Ç–æ–∏–º–æ—Å—Ç—å: ' + setup.sxem[custom.looking(message.chat.id, db)]['price'])
        print('–í–æ–∑–º–æ–∂–Ω–æ –ø–æ—Å—Ç—É–ø–∏–ª –ø–ª–∞—Ç–µ–∂\n' + str(message.chat.id) + '\n–°—Ö–µ–º–∞ –Ω–æ–º–µ—Ä: ' + str(custom.looking(message.chat.id, db)) + '\n' + '–°—Ç–æ–∏–º–æ—Å—Ç—å: ' + setup.sxem[custom.looking(message.chat.id, db)]['price'])
        me.send_message(setup.admin2, '–í–æ–∑–º–æ–∂–Ω–æ –ø–æ—Å—Ç—É–ø–∏–ª –ø–ª–∞—Ç–µ–∂\n' + str(message.chat.id) + '\n–°—Ö–µ–º–∞ –Ω–æ–º–µ—Ä: ' + str(custom.looking(message.chat.id, db)) + '\n' + '–°—Ç–æ–∏–º–æ—Å—Ç—å: ' + setup.sxem[custom.looking(message.chat.id, db)]['price'])

        bot.send_message(message.chat.id, '–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –í–∞—Å —Ä–∞–∑–¥–µ–ª', reply_markup = keyboards.main)
        custom.position_set(message.chat.id, db, 'sub_main')
        custom.looking_set(message.chat.id, db, 0)
        save_db(db)
    elif message.text == '–ù–∞–∑–∞–¥':
        bot.send_message(message.chat.id, '–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –í–∞—Å —Ä–∞–∑–¥–µ–ª', reply_markup = keyboards.main)
        custom.position_set(message.chat.id, db, 'sub_main')
        custom.looking_set(message.chat.id, db, 0)
        save_db(db)
    else:
        bot.send_message(message.chat.id, '–ë–æ—Ç –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–ª –í–∞—à—É –∫–æ–º–∞–Ω–¥—É', reply_markup = keyboards.paying)

@bot.message_handler(content_types = ['text'])
def send_sxem(message):
    if message.chat.id == setup.admin:
        text = message.text.lower()
        splitted = text.split(' ')
        if splitted[0] == '–æ—Ç–ø—Ä–∞–≤–∏—Ç—å':
            bot.send_document(splitted[1], open('full_sxem' + str(splitted[2]) + '.docx'), '–í–∞—à –ø–ª–∞—Ç–µ–∂ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω, –≤–æ—Ç –í–∞—à–∞ —Å—Ö–µ–º–∞:')
            me.send_message(setup.admin2, '–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω –ø–ª–∞—Ç–µ–∂ –Ω–∞ —Å—É–º–º—É ' + str(setup.sxem[int(splitted[2])]['price']))
    save_db(db)
            
bot.infinity_polling(True)
admin.polling()
me.polling()
